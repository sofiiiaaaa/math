---
sidebar_position: 4
---

# Формула полной вероятности. Формула Бейеса

import Figure from '@components/Figure'

import Formula from '@components/Formula'

import Highlight from '@components/Highlight'

import useBaseUrl from '@docusaurus/useBaseUrl';

Если об условиях проведения опыта можно сделать $n$ исключающих друг друга предположений (гипотез)
$H_1, H_2, \ldots, H_n$ и если событие $A$ может появиться только вместе с одной из этих гипотез, то вероятность события
$A$ определяется по формуле

<Formula description="(13)">

$P(A)=\displaystyle\sum_{i=1}^n P(H_i)P(A|H_i)$

</Formula>

где $P(H_i)$ &mdash; вероятность гипотезы $H_i$; $P(A|H_i)$ &mdash; условная вероятность события $A$ при этой гипотезе.

Формула **(13)** называется формулой _полной вероятности_. События-гипотезы образуют полную группу событий, т.е.

$$
H_i \cap H_j = \varnothing,\space i \ne j;\space i,j=1, 2, \ldots, n; \space \displaystyle\bigcup_{i=1}^n H_i = \Omega
$$

Если до опыта вероятности гипотез $H_1, H_2, \ldots, H_n$ были равны $P(H_1), P(H_2), \ldots, P(H_n)$, а в результате
опыта произошло событие $A$, то новые (условные) вероятности гипотез вычисляются по формуле

<Formula description="(14)">

$P(H_i|A)=\cfrac{P(H_i)P(A|H_i)}{\displaystyle\sum_{i=1}^n P(H_i)P(A|H_i)}, i=1, 2, \ldots, n$

</Formula>

Формула (14) называется _формулой Бейеса_. Формула Бейеса позволяет "пересмотреть" возможности гипотез с учетом
наблюдаемого результата опыта.

Если после опыта, давшего событие $A$, проводится еще один опыт, в результате которого может произойти или нет событие
$B$, то вероятность (условная) этого последнего события вычисляется по формуле полной вероятности, в которую подставлены
не прежние вероятности гипотез $P(H_i)$, а новые $P(H_i|A)$:

<Formula description="(15)">

$P(B|A)=\displaystyle\sum_{i=1}^n P(H_i|A)P(B|H_i \cap A)$

</Formula>

Формулу **(15)** иногда называют _формулой для вероятностей будущих событий_.

## Примеры

Давайте рассмотрим пару примеров, чтобы лучше понять способы применения указанных формул.

<Highlight color="#F4F6F6">

### Пример 1

В урну, содержащую 2 шара, опущен белый шар, после чего из нее наудачу извлечен один шар. Найти вероятность того, что
извлеченный шар окажется белым, если равновероятны все возможные предположения о первоначальном составе шаров (по
цвету).

<br/>

**Решение**

Обозначим через $A$ событие: извлечен белый шар. Возможны следующие предположения (гипотезы) о первоначальном составе
шаров: $H_1$ &mdash; белых шаров нет, $H_2$ &mdash; один белый шар, $H_3$ &mdash; два белых шара.

Поскольку всего имеется три гипотезы, причем по условию они равновероятны, и сумма вероятностей гипотез равна единице
(так как они образуют полную группу событий), то вероятность каждой из гипотез равна $\cfrac{1}{3}$, т.е.

$$
P(H_1)=P(H_2)=P(H_3)=\cfrac{1}{3}
$$

Условная вероятность того, что будет извлечен белый шар, при условии, что первоначально в урне не было белых шаров,

$$
P(A|H_1)=\cfrac{1}{3}
$$

Условная вероятность того, что будет извлечен белый шар, при условии, что первоначально в урне был один белый шар,

$$
P(A|H_2)=\cfrac{2}{3}
$$

Условная вероятность того, что будет извлечен белый шар, при условии, что первоначально в урне было два белых шара

$$
P(A|H_3)=1
$$

Искомую вероятность того, что будет извлечен белый шар, находим по формуле полной вероятности (13)

$$
P(A)=\displaystyle\sum_{i=1}^3 P(H_i)P(A|H_i)=\cfrac{1}{3}\cdot\cfrac{1}{3}+\cfrac{1}{3}\cdot\cfrac{2}{3}+\cfrac{1}{3}\cdot 1 = \cfrac{2}{3}
$$

</Highlight>

<Highlight color="#F4F6F6">

### Пример 2

Два автомата производят одинаковые детали, которые поступают на общий конвейер. Производительность первого автомата
вдвое больше производительности второго. Первый автомат производит в среднем 60% деталей отличного качества, а второй –
84%. Наудачу взятая с конвейера деталь оказалась отличного качества. Найти вероятность того, что эта деталь произведена
первым автоматом.

<br/>

**Решение**

Обозначим через $A$ событие: деталь отличного качества.

Можно сделать два предположения (гипотезы): $H_1$ &mdash; деталь произведена первым автоматом, причем (поскольку первый
автомат производит вдвое больше деталей, чем второй) $P(H_1)=\cfrac{2}{3}$; $H_2$ &mdash; деталь произведена вторым
автоматом, причем $P(H_2)=\cfrac{1}{3}$.

Условная вероятность того, что деталь будет отличного качества, если она произведена первым автоматом, $P(A|H_1)=0.6$.
Условная вероятность того, что деталь будет отличного качества, если она произведена вторым автоматом, $P(A|H_2)=0.84$.

Вероятность того, что наудачу взятая деталь окажется отличного качества, по формуле полной вероятности равна

$$
P(A)=P(H_1)P(A|H_1)+P(H_2)(A|H_2)=\cfrac{2}{3}\cdot 0.6 + \cfrac{1}{3} \cdot 0.84 = 0.68
$$

Искомая вероятность того, что взятая отличная деталь произведена первым автоматом, по формуле Бейеса (14) равна

$$
P(H_1|A)=\cfrac{P(H_1)P(A|H_1)}{P(A)}=\cfrac{\cfrac{2}{3}\cdot 0.6}{0.68} = \cfrac{10}{17}
$$

</Highlight>
